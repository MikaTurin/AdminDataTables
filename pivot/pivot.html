<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Pivot Example</title>

    <link rel="stylesheet" type="text/css" href="jqpivot/pivot.css">
    <script type="text/javascript" src="jqpivot/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="jqpivot/jquery-ui-1.9.2.custom.min.js"></script>
    <script type="text/javascript" src="jqpivot/jquery.csv-0.71.min.js"></script>
    <script type="text/javascript" src="jqpivot/pivot.js"></script>
    <script type="text/javascript">
        function loadData() {
//        var derivers = $.pivotUtilities.derivers;

//            $.get("/v2/data/csv.php?date_from="+$('#date_from').val()+"&date_till="+$("#date_till").val(), function(mps) {
            $.get("data.csv", function(mps) {
                $("#output").pivotUI($.csv.toArrays(mps), {
//                derivedAttributes: {
//                    "Age Bin": derivers.bin("Age", 10),
//                    "Gender Imbalance": function(mp) {
//                        return mp["Gender"] == "Male" ? 1 : -1;
//                    }
//                }
                });
            });
        }
    </script>

</head>
<body>


<div>
    <input type="button" onclick="loadData()" value="load"/>
</div>

<!--<p><a href="index.html">&laquo; back to examples</a></p>-->
<div id="output" style="margin: 10px;"></div>
</body>
</html>